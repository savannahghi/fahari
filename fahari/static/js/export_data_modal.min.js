document.addEventListener("DOMContentLoaded",function(){var a=$("#div_dump_fields_selection_tree").jstree({core:{data:{url:window.available_fields_url},themes:{name:"default",responsive:!0}},checkbox:{keep_selected_style:!1},plugins:["checkbox"]}),i=$("#fm_filter_form"),t=$("#div_form_content"),n=$("#div_loading_indicator");$.ajax({beforeSend:function(){return n.html(`
                <div class="d-flex justify-content-center">
                    <div class="spinner-border text-primary" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                </div>
            `),!0},dataType:"html",error:function(){n.html(""),t.html("Error loading filter form, please try again later.").addClass("text-center ")},success:function(e){n.html(""),t.html(e)},url:window.get_filter_form_url});var s=$("#btn_dump_data");s.startLoading=function(e){$(this).prop("disabled",!0),$(this).html(`<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> ${e}`)},s.stopLoading=function(){$(this).prop("disabled",!1),$(this).html("Export")},s.click(function(e){var t=a.jstree("get_selected");if(0===t.length)return alert("You must select the fields to be exported."),void e.preventDefault();for(var n=i.serializeArray(),r=0;r<t.length;++r)n.push({name:"dump_fields",value:t[r]});$.ajax({beforeSend:function(){return s.startLoading("Processing..."),!0},complete:function(){s.stopLoading()},contentType:"application/json; charset=UTF-8",data:n,url:window.dump_data_url})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwb3J0X2RhdGFfbW9kYWwubWluLmpzIiwic291cmNlcyI6WyJleHBvcnRfZGF0YV9tb2RhbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJGR1bXBfZmllbGRzX3NlbGVjdGlvbl90cmVlID0gJChcIiNkaXZfZHVtcF9maWVsZHNfc2VsZWN0aW9uX3RyZWVcIikuanN0cmVlKHtcbiAgICAgICAgXCJjb3JlXCI6IHtcbiAgICAgICAgICAgIFwiZGF0YVwiOiB7XG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogd2luZG93LmF2YWlsYWJsZV9maWVsZHNfdXJsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwidGhlbWVzXCI6IHtcbiAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICAgICAgXCJyZXNwb25zaXZlXCI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFwiY2hlY2tib3hcIiA6IHtcbiAgICAgICAgICAgIFwia2VlcF9zZWxlY3RlZF9zdHlsZVwiIDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgXCJwbHVnaW5zXCI6IFtcImNoZWNrYm94XCJdLFxuICAgIH0pO1xuXG4gICAgdmFyICRmaWx0ZXJzZXRfZm9ybSA9ICQoXCIjZm1fZmlsdGVyX2Zvcm1cIik7XG4gICAgdmFyICRkaXZfZmlsdGVyX2Zvcm1fY29udGVudCA9ICQoXCIjZGl2X2Zvcm1fY29udGVudFwiKTtcbiAgICB2YXIgJGRpdl9maWx0ZXJfZm9ybV9sb2FkaW5nX2luZGljYXRvciA9ICQoXCIjZGl2X2xvYWRpbmdfaW5kaWNhdG9yXCIpO1xuICAgIC8vIExvYWQgdGhlIGZpbHRlcnNldCBmb3JtXG4gICAgJC5hamF4KHtcbiAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkZGl2X2ZpbHRlcl9mb3JtX2xvYWRpbmdfaW5kaWNhdG9yLmh0bWwoYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3Bpbm5lci1ib3JkZXIgdGV4dC1wcmltYXJ5XCIgcm9sZT1cInN0YXR1c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+TG9hZGluZy4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRkaXZfZmlsdGVyX2Zvcm1fbG9hZGluZ19pbmRpY2F0b3IuaHRtbChcIlwiKTtcbiAgICAgICAgICAgICRkaXZfZmlsdGVyX2Zvcm1fY29udGVudC5odG1sKFwiRXJyb3IgbG9hZGluZyBmaWx0ZXIgZm9ybSwgcGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIikuYWRkQ2xhc3MoXCJ0ZXh0LWNlbnRlciBcIik7XG4gICAgICAgIH0sXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICRkaXZfZmlsdGVyX2Zvcm1fbG9hZGluZ19pbmRpY2F0b3IuaHRtbChcIlwiKTtcbiAgICAgICAgICAgICRkaXZfZmlsdGVyX2Zvcm1fY29udGVudC5odG1sKGRhdGEpO1xuICAgICAgICB9LFxuICAgICAgICB1cmw6IHdpbmRvdy5nZXRfZmlsdGVyX2Zvcm1fdXJsXG4gICAgfSk7XG5cbiAgICB2YXIgJGJ0bl9kdW1wX2RhdGEgPSAkKFwiI2J0bl9kdW1wX2RhdGFcIik7XG4gICAgJGJ0bl9kdW1wX2RhdGEuc3RhcnRMb2FkaW5nID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICAkKHRoaXMpLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgJCh0aGlzKS5odG1sKGA8c3BhbiBjbGFzcz1cInNwaW5uZXItYm9yZGVyIHNwaW5uZXItYm9yZGVyLXNtXCIgcm9sZT1cInN0YXR1c1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvc3Bhbj4gJHt0ZXh0fWApO1xuICAgIH07XG4gICAgJGJ0bl9kdW1wX2RhdGEuc3RvcExvYWRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJCh0aGlzKS5wcm9wKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xuICAgICAgICAkKHRoaXMpLmh0bWwoXCJFeHBvcnRcIik7XG4gICAgfVxuICAgICRidG5fZHVtcF9kYXRhLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciBkdW1wX2ZpZWxkc19zZWxlY3Rpb24gPSAkZHVtcF9maWVsZHNfc2VsZWN0aW9uX3RyZWUuanN0cmVlKFwiZ2V0X3NlbGVjdGVkXCIpO1xuICAgICAgICBpZiAoZHVtcF9maWVsZHNfc2VsZWN0aW9uLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgYWxlcnQoXCJZb3UgbXVzdCBzZWxlY3QgdGhlIGZpZWxkcyB0byBiZSBleHBvcnRlZC5cIik7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQnVpbGQgdGhlIHJlcXVlc3QgYnkgYWRkaW5nIHRoZSBzZWxlY3RlZCBkdW1wIGZpZWxkcyB0byB0aGUgZmlsdGVyIGZpZWxkc1xuICAgICAgICB2YXIgZmlsdGVycyA9ICRmaWx0ZXJzZXRfZm9ybS5zZXJpYWxpemVBcnJheSgpO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZHVtcF9maWVsZHNfc2VsZWN0aW9uLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgICAgZmlsdGVycy5wdXNoKHtuYW1lOiBcImR1bXBfZmllbGRzXCIsIHZhbHVlOiBkdW1wX2ZpZWxkc19zZWxlY3Rpb25baW5kZXhdfSk7XG4gICAgICAgIH1cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRidG5fZHVtcF9kYXRhLnN0YXJ0TG9hZGluZyhcIlByb2Nlc3NpbmcuLi5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRidG5fZHVtcF9kYXRhLnN0b3BMb2FkaW5nKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOFwiLFxuICAgICAgICAgICAgZGF0YTogZmlsdGVycyxcbiAgICAgICAgICAgIHVybDogd2luZG93LmR1bXBfZGF0YV91cmwsXG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiJGR1bXBfZmllbGRzX3NlbGVjdGlvbl90cmVlIiwiJCIsImpzdHJlZSIsImNvcmUiLCJkYXRhIiwidXJsIiwid2luZG93IiwiYXZhaWxhYmxlX2ZpZWxkc191cmwiLCJ0aGVtZXMiLCJuYW1lIiwicmVzcG9uc2l2ZSIsImNoZWNrYm94Iiwia2VlcF9zZWxlY3RlZF9zdHlsZSIsInBsdWdpbnMiLCIkZmlsdGVyc2V0X2Zvcm0iLCIkZGl2X2ZpbHRlcl9mb3JtX2NvbnRlbnQiLCIkZGl2X2ZpbHRlcl9mb3JtX2xvYWRpbmdfaW5kaWNhdG9yIiwiYWpheCIsImJlZm9yZVNlbmQiLCJodG1sIiwiZGF0YVR5cGUiLCJlcnJvciIsImFkZENsYXNzIiwic3VjY2VzcyIsImdldF9maWx0ZXJfZm9ybV91cmwiLCIkYnRuX2R1bXBfZGF0YSIsInN0YXJ0TG9hZGluZyIsInRleHQiLCJ0aGlzIiwicHJvcCIsInN0b3BMb2FkaW5nIiwiY2xpY2siLCJldmVudCIsImR1bXBfZmllbGRzX3NlbGVjdGlvbiIsImxlbmd0aCIsImFsZXJ0IiwicHJldmVudERlZmF1bHQiLCJmaWx0ZXJzIiwic2VyaWFsaXplQXJyYXkiLCJpbmRleCIsInB1c2giLCJ2YWx1ZSIsImNvbXBsZXRlIiwiY29udGVudFR5cGUiLCJkdW1wX2RhdGFfdXJsIl0sIm1hcHBpbmdzIjoiQUFBQUEsU0FBU0MsaUJBQWlCLG1CQUFvQixXQUMxQyxJQUFJQyxFQUE4QkMsRUFBRSxtQ0FBbUNDLE9BQU8sQ0FDMUVDLEtBQVEsQ0FDSkMsS0FBUSxDQUNKQyxJQUFPQyxPQUFPQyxzQkFFbEJDLE9BQVUsQ0FDTkMsS0FBUSxVQUNSQyxZQUFjLElBR3RCQyxTQUFhLENBQ1RDLHFCQUF3QixHQUU1QkMsUUFBVyxDQUFDLGNBR1pDLEVBQWtCYixFQUFFLG1CQUNwQmMsRUFBMkJkLEVBQUUscUJBQzdCZSxFQUFxQ2YsRUFBRSwwQkFFM0NBLEVBQUVnQixLQUFLLENBQ0hDLFdBQVksV0FRUixPQVBBRixFQUFtQ0c7Ozs7OztnQkFPNUIsR0FFWEMsU0FBVSxPQUNWQyxNQUFPLFdBQ0hMLEVBQW1DRyxLQUFLLElBQ3hDSixFQUF5QkksS0FBSyxzREFBc0RHLFNBQVMsaUJBRWpHQyxRQUFTLFNBQVNuQixHQUNkWSxFQUFtQ0csS0FBSyxJQUN4Q0osRUFBeUJJLEtBQUtmLElBRWxDQyxJQUFLQyxPQUFPa0Isc0JBR2hCLElBQUlDLEVBQWlCeEIsRUFBRSxrQkFDdkJ3QixFQUFlQyxhQUFlLFNBQVNDLEdBQ25DMUIsRUFBRTJCLE1BQU1DLEtBQUssWUFBWSxHQUN6QjVCLEVBQUUyQixNQUFNVCxnR0FBZ0dRLE1BRTVHRixFQUFlSyxZQUFjLFdBQ3pCN0IsRUFBRTJCLE1BQU1DLEtBQUssWUFBWSxHQUN6QjVCLEVBQUUyQixNQUFNVCxLQUFLLFdBRWpCTSxFQUFlTSxNQUFNLFNBQVNDLEdBQzFCLElBQUlDLEVBQXdCakMsRUFBNEJFLE9BQU8sZ0JBQy9ELEdBQXFDLElBQWpDK0IsRUFBc0JDLE9BR3RCLE9BRkFDLE1BQU0sbURBQ05ILEVBQU1JLGlCQU1WLElBREEsSUFBSUMsRUFBVXZCLEVBQWdCd0IsaUJBQ3JCQyxFQUFRLEVBQUdBLEVBQVFOLEVBQXNCQyxTQUFVSyxFQUN4REYsRUFBUUcsS0FBSyxDQUFDL0IsS0FBTSxjQUFlZ0MsTUFBT1IsRUFBc0JNLEtBRXBFdEMsRUFBRWdCLEtBQUssQ0FDSEMsV0FBWSxXQUVSLE9BREFPLEVBQWVDLGFBQWEsa0JBQ3JCLEdBRVhnQixTQUFVLFdBQ05qQixFQUFlSyxlQUVuQmEsWUFBYSxrQ0FDYnZDLEtBQU1pQyxFQUNOaEMsSUFBS0MsT0FBT3NDIn0=
